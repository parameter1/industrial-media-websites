import { getAsObject, get } from "@parameter1/base-cms-object-path";

$ const content = getAsObject(input, "content");
$ const needs = ["teaser", "productSummary"];
$ const hasValues = needs.map(field => get(content, field)).some(v => v);

<if(hasValues)>
  <marko-web-node-list
    collapsible=false
    class=input.class
    flush-x=true
  >
    <@header>Company Overview</@header>
    <@body>
      <marko-web-content-teaser|{ value }| tag="p" obj=content>
        <global-leaders-company-label>About $!{content.name}</global-leaders-company-label>
        $!{value}
      </marko-web-content-teaser>

      <marko-web-obj-text|{ value }| tag="p" obj=content field="productSummary" type="content" html=true>
        <global-leaders-company-label>Product Summary</global-leaders-company-label>
        $!{value}
      </marko-web-obj-text>
    </@body>
  </marko-web-node-list>
</if>
